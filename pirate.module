<?php

/**
 * Implements hook_help()
 */
function pirate_help($section) {
  switch ($section) {
    case 'help.page.pirate':
      return t('This module is a simple filter that, when enabled, will change your posts to Pirate talk on September 19th for <a href="@talklikeapirateday">Talk Like a Pirate Day</a>.', array('@talklikeapirateday' => 'http://www.talklikeapirate.com/'));
    }
}

/**
 * Support function for pirate()
 * this could probably be refactored to make it more generic, allowing
 * different filters to pass their own patterns in.
 */
function pirate_avast($stub = '',$chance = 5) {
  $shouts = array(
    ", avast$stub",
    "$stub Ahoy!",
    ", and a bottle of rum!",
    ", by Blackbeard's sword$stub",
    ", by Davy Jones' locker$stub",
    "$stub Walk the plank!",
    "$stub Aarrr!",
    "$stub Yaaarrrrr!",
    ", pass the grog!",
    ", and dinna spare the whip!",
    ", with a chest full of booty$stub",
    ", and a bucket o' chum$stub",
    ", we'll keel-haul ye!",
    "$stub Shiver me timbers!",
    "$stub And hoist the mainsail!",
    "$stub And swab the deck!",
    ", ye scurvey dog$stub",
    "$stub Fire the cannons!",
    ", to be sure$stub",
    ", I'll warrant ye$stub",
    ", on a dead man's chest!",
    "$stub Load the cannons!",
    "$stub Prepare to be boarded!",
    ", I'll warrant ye$stub",
    "$stub Ye'll be sleepin' with the fishes!",
    "$stub The sharks will eat well tonight!",
    "$stub Oho!",
    "$stub Fetch me spyglass!",
    ", shiver me timbers",
    ", yo ho, ho",
    ", ya bilge rat!",
    ", Get out of me rum!",
    ", feed the fishes",
    ", me Jolly Roger",
    ", Ya horn swogglin' scurvy cur!",
    ", Ya swabbie!",
    ", All Hands Hoay!",
    ", Avast me hearties!",
    ", Dance the Hempen Jig",
    ", Hornswaggle",
    ", Ya lily livered swabbie!",
  );
  shuffle($shouts);	
  return (((1 == rand(1,$chance))?array_shift($shouts):$stub) . ' ');
}
